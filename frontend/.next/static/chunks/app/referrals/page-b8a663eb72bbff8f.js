(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{866:(e,r,t)=>{"use strict";t.d(r,{n:()=>s});let l="http://localhost:4000";function s(e,r={}){let t=function(e){let r=l?l.endsWith("/")?l.slice(0,-1):l:"";if(!r)return e;let t=e.startsWith("/")?e:`/${e}`;return`${r}${t}`}(e),a=r.credentials??"include";return fetch(t,{...r,credentials:a})}},1347:(e,r,t)=>{Promise.resolve().then(t.bind(t,1635))},1635:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var l=t(5155),s=t(8500),a=t.n(s),n=t(2115),d=t(866);function i({node:e,depth:r}){let t=["from-purple-500 to-blue-500","from-blue-500 to-cyan-500","from-green-500 to-emerald-500","from-orange-500 to-red-500","from-pink-500 to-purple-500"],s=t[r%t.length];return(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsxs)("div",{className:"flex flex-wrap items-center gap-3 glass-panel rounded-xl border border-purple-200 dark:border-purple-500/30 p-4 transition-all hover:scale-105 hover:shadow-lg",children:[(0,l.jsxs)("span",{className:`rounded-lg bg-gradient-to-br ${s} px-3 py-1 text-xs font-bold text-white shadow-md`,children:["Level ",r]}),(0,l.jsx)("span",{className:"text-sm font-semibold text-zinc-800 dark:text-zinc-100",children:e.email}),(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded-md bg-purple-500/10 text-purple-700 dark:text-purple-300 font-mono",children:e.referralCode}),e.children.length>0&&(0,l.jsxs)("span",{className:"ml-auto text-xs px-2 py-1 rounded-md bg-blue-500/10 text-blue-700 dark:text-blue-300 font-semibold",children:[e.children.length," ",1===e.children.length?"referral":"referrals"]})]}),e.children.length>0?(0,l.jsx)("div",{className:"ml-6 mt-2 border-l-2 border-purple-300 dark:border-purple-500/30 pl-6",children:e.children.map(e=>(0,l.jsx)(i,{node:e,depth:r+1},e.id))}):null]})}function o(){let[e,r]=(0,n.useState)(null),[t,s]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(0,d.n)("/api/referrals?depth=5").then(async e=>{let t=await e.json();if(!e.ok)throw Error(t?.error??"Failed to load");r(t.tree)}).catch(e=>s(String(e?.message??e)))},[]),(0,l.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-50 dark:from-gray-900 dark:via-purple-900/20 dark:to-indigo-900/20 p-6",children:(0,l.jsxs)("div",{className:"mx-auto max-w-5xl",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[(0,l.jsxs)("div",{className:"animate-fade-in",children:[(0,l.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"Referral Network"}),(0,l.jsx)("p",{className:"mt-2 text-sm text-zinc-600 dark:text-zinc-400",children:"Visualize your binary tree structure and network growth"})]}),(0,l.jsx)(a(),{className:"glass-panel animate-slide-in rounded-xl px-5 py-2.5 text-sm font-medium transition-all hover:scale-105 hover:shadow-lg border border-purple-200 dark:border-purple-500/30",href:"/dashboard",children:"← Back to Dashboard"})]}),t?(0,l.jsxs)("div",{className:"glass-panel animate-shake rounded-xl border border-red-500/30 bg-red-500/10 p-4 text-sm text-red-700 dark:text-red-300 mb-6",children:["⚠️ ",t]}):null,e?(0,l.jsxs)("div",{className:"glass-panel animate-fade-in rounded-2xl border border-purple-200 dark:border-purple-500/30 p-6 shadow-2xl",style:{animationDelay:"0.1s"},children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,l.jsx)("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-purple-500 to-blue-500 flex items-center justify-center text-white text-xl",children:"\uD83C\uDF33"}),(0,l.jsx)("h2",{className:"text-xl font-bold text-zinc-800 dark:text-zinc-100",children:"Your Network Tree"})]}),(0,l.jsx)(i,{node:e,depth:0}),(0,l.jsxs)("div",{className:"mt-8 pt-6 border-t border-purple-200 dark:border-purple-500/30 flex items-start gap-3",children:[(0,l.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCA1"}),(0,l.jsxs)("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:[(0,l.jsx)("strong",{children:"Note:"})," This view shows up to 5 levels of your referral network for optimal performance. Each level represents a generation in your binary tree structure."]})]})]}):(0,l.jsxs)("div",{className:"glass-panel rounded-2xl border border-purple-200 dark:border-purple-500/30 p-12 text-center",children:[(0,l.jsx)("div",{className:"w-20 h-20 mx-auto rounded-full bg-gradient-to-br from-purple-500/20 to-blue-500/20 flex items-center justify-center text-4xl mb-4 animate-pulse",children:"\uD83C\uDF1F"}),(0,l.jsx)("p",{className:"text-lg text-zinc-600 dark:text-zinc-400",children:"Loading your network..."})]})]})})}}},e=>{e.O(0,[500,441,794,358],()=>e(e.s=1347)),_N_E=e.O()}]);